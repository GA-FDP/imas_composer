# Test configuration for Core Profiles IDS

# Field-level exceptions for validation
field_exceptions: {}

# Requirement validation settings
requirement_validation:
  # MDS+ paths that use calibration data (shot 0 or cal_set), not the requested shot
  allow_different_shot: []

# OMAS path mapping
# Maps imas_composer notation to OMAS notation for fetching reference data
omas_path_map:
  # Time fields
  core_profiles.time: core_profiles.time
  core_profiles.profiles_1d.time: core_profiles.profiles_1d.:.time
  core_profiles.ids_properties.homogeneous_time: core_profiles.ids_properties.homogeneous_time

  # Grid field
  core_profiles.profiles_1d.grid.rho_tor_norm: core_profiles.profiles_1d.0.grid.rho_tor_norm

  # Electron profiles
  core_profiles.profiles_1d.electrons.density_thermal: core_profiles.profiles_1d.:.electrons.density_thermal
  core_profiles.profiles_1d.electrons.temperature: core_profiles.profiles_1d.:.electrons.temperature

  # Ion[0] - Deuterium profiles
  core_profiles.profiles_1d.ion.0.density_thermal: core_profiles.profiles_1d.:.ion.0.density_thermal
  core_profiles.profiles_1d.ion.0.temperature: core_profiles.profiles_1d.:.ion.0.temperature
  core_profiles.profiles_1d.ion.0.label: core_profiles.profiles_1d.0.ion.0.label
  core_profiles.profiles_1d.ion.0.element.0.z_n: core_profiles.profiles_1d.0.ion.0.element.0.z_n
  core_profiles.profiles_1d.ion.0.element.0.a: core_profiles.profiles_1d.0.ion.0.element.0.a

  # Ion[1] - Carbon profiles
  core_profiles.profiles_1d.ion.1.density_thermal: core_profiles.profiles_1d.:.ion.1.density_thermal
  core_profiles.profiles_1d.ion.1.temperature: core_profiles.profiles_1d.:.ion.1.temperature
  core_profiles.profiles_1d.ion.1.rotation_frequency_tor: core_profiles.profiles_1d.:.ion.1.rotation_frequency_tor
  core_profiles.profiles_1d.ion.1.label: core_profiles.profiles_1d.0.ion.1.label
  core_profiles.profiles_1d.ion.1.element.0.z_n: core_profiles.profiles_1d.0.ion.1.element.0.z_n
  core_profiles.profiles_1d.ion.1.element.0.a: core_profiles.profiles_1d.0.ion.1.element.0.a

  # Global quantities
  core_profiles.global_quantities.v_loop: core_profiles.global_quantities.v_loop
