# Test configuration for Thomson Scattering IDS

# Field-level exceptions for validation
field_exceptions: {}

# Requirement validation settings
requirement_validation:
  # MDSplus paths that use calibration data (shot 0 or cal_set), not the requested shot
  allow_different_shot:
    - '.ts.BLESSED.header.calib_nums'  # Calibration numbers (shot 0)
    - '.TANGENTIAL.hwmapints'  # Hardware maps use cal_set shot
    - '.DIVERTOR.hwmapints'
    - '.CORE.hwmapints'

# OMAS path mapping
# Maps imas_composer notation to OMAS notation for fetching reference data
# For channel fields, OMAS uses .: to index all channels at once
omas_path_map:
  # Channel fields (add .: to fetch all channels)
  thomson_scattering.channel.name: thomson_scattering.channel.:.name
  thomson_scattering.channel.identifier: thomson_scattering.channel.:.identifier
  thomson_scattering.channel.position.r: thomson_scattering.channel.:.position.r
  thomson_scattering.channel.position.z: thomson_scattering.channel.:.position.z
  thomson_scattering.channel.position.phi: thomson_scattering.channel.:.position.phi
  thomson_scattering.channel.n_e.time: thomson_scattering.channel.:.n_e.time
  thomson_scattering.channel.n_e.data: thomson_scattering.channel.:.n_e.data
  thomson_scattering.channel.n_e.data_error_upper: thomson_scattering.channel.:.n_e.data_error_upper
  thomson_scattering.channel.t_e.time: thomson_scattering.channel.:.t_e.time
  thomson_scattering.channel.t_e.data: thomson_scattering.channel.:.t_e.data
  thomson_scattering.channel.t_e.data_error_upper: thomson_scattering.channel.:.t_e.data_error_upper
