# Equilibrium IDS Configuration for DIII-D
#
# Based on OMAS mappings in machine_mappings/_efit.json

# Static values (hardcoded, not from MDSplus)
static_values:
  ids_properties.homogeneous_time: 1

# EFIT tree configuration
# Note: EFIT01, EFIT02, etc. are different equilibrium reconstructions
# Default to EFIT01 for now
default_efit_tree: EFIT01

# Supported fields
# Note: Uses clean IMAS notation without .: array markers
fields:
  # Code metadata
  - code.name
  - code.version

  # IDS properties
  - ids_properties.homogeneous_time

  # Time arrays
  - time
  - time_slice.time

  # Boundary (plasma boundary)
  - time_slice.boundary.outline.r
  - time_slice.boundary.outline.z
  - time_slice.boundary.x_point.r
  - time_slice.boundary.x_point.z

  # Boundary separatrix (same as boundary for EFIT)
  - time_slice.boundary_separatrix.outline.r
  - time_slice.boundary_separatrix.outline.z
  - time_slice.boundary_separatrix.x_point.r
  - time_slice.boundary_separatrix.x_point.z
  - time_slice.boundary_separatrix.geometric_axis.r
  - time_slice.boundary_separatrix.geometric_axis.z
  - time_slice.boundary_separatrix.closest_wall_point.distance
  - time_slice.boundary_separatrix.gap.name
  - time_slice.boundary_separatrix.gap.value
  - time_slice.boundary_separatrix.strike_point.r
  - time_slice.boundary_separatrix.strike_point.z
  - time_slice.boundary_separatrix.triangularity_upper
  - time_slice.boundary_separatrix.triangularity_lower
  - time_slice.boundary_separatrix.elongation
  - time_slice.boundary_separatrix.minor_radius
  - time_slice.boundary_separatrix.psi

  # Constraints
  - time_slice.constraints.ip.measured
  - time_slice.constraints.ip.measured_error_upper
  - time_slice.constraints.ip.weight
  - time_slice.constraints.ip.reconstructed
  - time_slice.constraints.ip.chi_squared
  - time_slice.constraints.bpol_probe.measured
  - time_slice.constraints.bpol_probe.measured_error_upper
  - time_slice.constraints.bpol_probe.weight
  - time_slice.constraints.bpol_probe.reconstructed
  - time_slice.constraints.bpol_probe.chi_squared
  - time_slice.constraints.diamagnetic_flux.measured
  - time_slice.constraints.diamagnetic_flux.measured_error_upper
  - time_slice.constraints.diamagnetic_flux.weight
  - time_slice.constraints.diamagnetic_flux.reconstructed
  - time_slice.constraints.diamagnetic_flux.chi_squared
  - time_slice.constraints.flux_loop.measured
  - time_slice.constraints.flux_loop.measured_error_upper
  - time_slice.constraints.flux_loop.weight
  - time_slice.constraints.flux_loop.reconstructed
  - time_slice.constraints.flux_loop.chi_squared
  - time_slice.constraints.mse_polarisation_angle.measured
  - time_slice.constraints.mse_polarisation_angle.measured_error_upper
  - time_slice.constraints.mse_polarisation_angle.weight
  - time_slice.constraints.mse_polarisation_angle.reconstructed
  - time_slice.constraints.mse_polarisation_angle.chi_squared
  - time_slice.constraints.pf_current.measured
  - time_slice.constraints.pf_current.measured_error_upper
  - time_slice.constraints.pf_current.weight
  - time_slice.constraints.pf_current.reconstructed
  - time_slice.constraints.pf_current.chi_squared
  - time_slice.constraints.pressure.position.psi
  - time_slice.constraints.pressure.measured
  - time_slice.constraints.pressure.measured_error_upper
  - time_slice.constraints.pressure.weight
  - time_slice.constraints.pressure.reconstructed
  - time_slice.constraints.pressure.chi_squared
  - time_slice.constraints.j_tor.position.psi
  - time_slice.constraints.j_tor.measured
  - time_slice.global_quantities.ip
  - time_slice.global_quantities.li_3
  - time_slice.global_quantities.magnetic_axis.r
  - time_slice.global_quantities.magnetic_axis.z
  - time_slice.global_quantities.magnetic_axis.b_field_tor
  - time_slice.global_quantities.psi_axis
  - time_slice.global_quantities.psi_boundary
  - time_slice.global_quantities.area
  - time_slice.global_quantities.surface
  - time_slice.global_quantities.volume
  - time_slice.global_quantities.beta_pol
  - time_slice.global_quantities.beta_tor
  - time_slice.global_quantities.beta_normal
  - time_slice.global_quantities.q_95
  - time_slice.global_quantities.q_axis
  - time_slice.global_quantities.q_min.value
  - time_slice.profiles_1d.dpressure_dpsi
  - time_slice.profiles_1d.f
  - time_slice.profiles_1d.f_df_dpsi
  - time_slice.profiles_1d.pressure
  - time_slice.profiles_1d.psi
  - time_slice.profiles_1d.q
  - time_slice.profiles_1d.rho_tor_norm
  - time_slice.profiles_1d.j_tor
  - time_slice.profiles_1d.volume
  - time_slice.profiles_2d.grid.dim1
  - time_slice.profiles_2d.grid.dim2
  - time_slice.profiles_2d.grid_type.index
  - time_slice.profiles_2d.psi
  - vacuum_toroidal_field.b0
  - vacuum_toroidal_field.r0
  - time_slice.convergence.iterations_n
  - time_slice.convergence.grad_shafranov_deviation_value
  - time_slice.convergence.grad_shafranov_deviation_expression.index

# Notes:
# - time_slice.: notation means array of time slices
# - Each time slice corresponds to one EFIT time point
# - boundary.outline is ragged (different number of points per time)
# - x_point.: has fixed size of 2 (primary and secondary X-point)
# - For EFIT, boundary and boundary_separatrix are identical (both use RBBBS/ZBBBS)
# - gap.: has 4 entries (inboard, outboard, top, bottom)
# - strike_point.: has up to 4 entries (vsid, vsod, vsiu, vsou), ragged array
